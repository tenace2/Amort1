<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">




<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml">


<head>


<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />


<title>The Amort mortgage loan calculator and estimator</title>


<meta name="viewport" content="user-scalable=no, width=device-width" />


<link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />


	<link rel="stylesheet" href="jQuery/customsliderinputsize.css" />


<script type="text/javascript" charset="utf-8" src="http://code.jquery.com/jquery-1.8.2.min.js"></script>


	<script type="text/javascript" charset="utf-8" src="jQuery/custommobileinit.js"></script>


<script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>


<script type="text/javascript" charset="utf-8" src="jQuery/jquery.flot.min.js"></script>


	<script type="text/javascript" charset="utf-8" src="jQuery/jquery.flot.pie.min.js"></script>


	


	<style>


.mylistingclass {


color:blue;


font-weight:bold;


	 font-family:courier;


	 font-size: 8pt;


}


</style>


</head>






<body onload="load()">


<!-- START OF PAGE HOME / MAIN HOME PAGE -->


<div data-role="page" id="homepage">


	<div data-role="header">


		<h1>Mortgage Calculator</h1>


	</div><!-- /header -->






	<!-- Begin Content page1 calculator -->


	<div data-role="content">


<h3 id="mylogo"><img src ="images/MortCalc.png" width=30 height=30 alt="Amort" /> Amort Loan Calculator</h3>


	


<!-- BUTTON LINK TO CALCULATOR PAGE1 -->


<a href="#page1" data-role="button" data-icon="arrow-r">Calculator</a>


	


	 <!-- BUTTON LINK TO CHART PAGE3 -->


<a href="#page3" data-role="button" data-icon="arrow-r">Chart</a>


	


<!-- BUTTON LINK TO EXTRA PAYMENTS PAGE5-->


<a href="#page5" data-role="button" data-icon="arrow-r">Extra Payments</a>






<!-- BUTTON LINK TO WHAT CAN I AFFORD PAGE7-->


<a href="#page7" data-role="button" data-icon="arrow-r">Affordability</a>






<!-- BUTTON LINK TO SETTINGS PAGE8-->


<a href="#page8" data-rel="dialog" data-transition="pop" data-role="button" data-icon="arrow-r">Settings</a>


	</div><!-- /content -->


	


	<div data-role="footer" data-position="fixed" >


		<h2>Home</h2>


		<div data-role="navbar">


		 <ul>


		 <li><a href="#page1" data-icon="gear">Calculator</a></li>


		 <li><a href="#page4" data-icon="info">Info & Settings</a></li>


		 </ul>


		</div><!-- /navbar -->


</div><!-- /footer homepage-->


</div>


<!-- END OF HOME PAGE -->






<!-- START OF PAGE ONE / MAIN CALCULATOR -->






<div data-role="page" id="page1" >






	<div data-backbtn="false" data-role="header" >


		<h1>Mortgage Calculator</h1>


	</div><!-- /header -->






	<!-- Begin Content page1 calculator -->


	<div data-role="content">


<!-- <h3>LOAN CALCULATOR</h3> -->


	 <div id ="principlerateterm"> </div>


	 <div id ="displayplainmsg"></div>






<!--AMOUNT SLIDER -->


<div data-role="fieldcontain" id="div-sliderPrincipleAmnt">


<label for="slider1">Amount(thousands):</label>


<input type="range" name="slider1" id="slider-PrincipleAmnt" value="100" min="20" max="999" data-theme="b" data-track-theme="a" data-highlight="true" />


</div>


<!--slider has change event monitored via script -->


	


	 <p></p>


	


<!--INTEREST SLIDER -->


	 <div data-role="fieldcontain" id="div-sliderInterest1">


<label for="slider2">Interest Rate</label>


<input type="range" name="slider2" id="sliderInterest1" value="4" min="1" max="9" step="0.125" data-theme="b" data-track-theme="a" data-highlight="true" />


</div>


<!---slider has change event monitored via script -->	


		


<!-- TERM RADIO BUTTONS FOR CALCULATOR -->


<div data-role="fieldcontain" id="div-button1">


<fieldset data-role="controlgroup" data-type="horizontal" data-mini="true">


<input type="radio" name="radio-choice-1" id="radio-choice-1" value="10" />


<label for="radio-choice-1">10 Yr</label>






<input type="radio" name="radio-choice-1" id="radio-choice-2" value="15" />


<label for="radio-choice-2">15 Yr</label>






<input type="radio" name="radio-choice-1" id="radio-choice-3" value="30" checked="checked"/>


<label for="radio-choice-3">30 Yr</label>


</fieldset>


	 </div>


<!--- end radio buttons, have change event monitored via script -->


	


	 <!-- BUTTON FOR CALCULATOR DEFAULT SETTINGS-->


	 <a href="#page8" data-role="button" data-inline="true" data-theme="b" data-icon="arrow-r" data-rel="dialog" data-transition="pop" >settings page</a>


	


</div><!-- /content -->


	


	<div data-role="footer" data-position="fixed" >


		<h2>Calculator</h2>


		<div data-role="navbar">


		 <ul>


		 <li><a href="#homepage" data-icon="home">HomePage</a></li>


		 <li><a href="#page3" data-icon="star">Chart</a></li>


			<li><a href="PaymentSchedule.html" data-icon="grid">Pay Schedule</a></li>


		 <li><a href="#page5" data-icon="plus">Extra Payment</a></li>


		 </ul>


		</div><!-- /navbar -->


</div><!-- /footer page1-->


</div>


<!-- END OF PAGE ONE / MAIN CALCULATOR -->






<!-- Note PAGE TWO payment schedule is external page -->


<!-- URL is: PaymentSchedule.html -->






<!-- START OF PAGE THREE / FLOT PIE CHART-->


<div data-role="page" id="page3">


	<div data-role="header">


		<h1>Payment Chart</h1>


	</div><!-- /header -->


	


	<!-- Begin Content page three -->


	<div data-role="content">	


	


	 <div id="displayplainmsgchart"></div>


	


	 <!-- FLOT PIE CHART -->


<div id="chartpage3" style="width:200px; height:150px"></div>


			


<!--INTEREST SLIDER -->


	 <div data-role="fieldcontain" id="div-sliderInterest2">


<label for="slider3">Interest Rate</label>


<input type="range" name="slider3" id="sliderInterest2" value="4" min="1" max="9" step="0.125" data-theme="b" data-track-theme="a" data-highlight="true" />


</div>


<!---slider has change event monitored via script -->


	


<!-- TERM RADIO BUTTONS FOR CHART-->


<div data-role="fieldcontain" id="div-button2">


<fieldset data-role="controlgroup" data-type="horizontal" data-mini="true">






<input type="radio" name="radio-choice-2" id="radio-choice-4" value="10" />


<label for="radio-choice-4">10 Yr</label>






<input type="radio" name="radio-choice-2" id="radio-choice-5" value="15" />


<label for="radio-choice-5">15 Yr</label>






<input type="radio" name="radio-choice-2" id="radio-choice-6" value="30" checked="checked"/>


<label for="radio-choice-6">30 Yr</label>


</fieldset>


</div>


<!--- end radio buttons, have change event monitored via script -->


	</div><!-- /content page three -->






	<div data-role="footer" data-position="fixed" >


		<h3>Graph</h3>


		<div data-role="navbar">


<ul>


	 <li><a href="#homepage" data-icon="home">HomePage</a></li>


<li><a href="#page1" data-icon="gear">Calculator</a></li>


<li><a href="PaymentSchedule.html" data-icon="grid">Pay Schedule</a></li>


</ul>


</div><!-- /navbar -->


</div><!-- /footer page3 -->


</div>


<!-- / end page THREE - FLOT PIE Chart-->






<!-- START OF PAGE4 / INFO and SETTINGS -->


<div data-role="page" id="page4">


	<div data-role="header">


		<h1>Amort Information</h1>


	</div><!-- /header -->






<!-- Begin Content page four -->


	<div data-role="content">


<h3 id="mylogo"><img src ="images/MortCalc60.png" width=60 height=60 alt="Amort" /> Amort Loan Calculator</h3>	


	 <p>Hello welecome to the Amort Mortgage loan calculator and estimator.</p>


<p>The Amort calculator is meant to quickly get a rough estimation of a loan amoratization.</p>


<p></p>


	 <div data-role="collapsible" data-collapsed="false" >


<h3>Amort Default Settings</h3>


<p>The Amort calculator defaults in with a $100K loan, at 4% APR fixed rate, for 30 Years</p>


		 <p>The default min-max loan bracket is $20K to $300K. Minimum APR is 1% with max 9% incremented in steps of 0.125%. Loan period is only 10, 15 and 30 year terms.</p>


<p></p>


		 <p>If you would like a different loan amount bracket, please select settings: </p>


	 <!-- BUTTON FOR CALCULATOR DEFAULT SETTINGS-->


	 <a href="#page8" data-role="button" data-inline="true" data-theme="b" data-icon="arrow-r" data-rel="dialog" data-transition="pop" >Settings page</a>


		 <p>Note to make using this calculator easier, the Settings page makes some reasonable assumptions about your selected loan bracket and will also default in <b> max extra-payment</b> and <b> affordable payment </b> amounts.</p>


<p>The following five loan bracket settings are available:</p>


<p><b>Low: </b> Loan min of $1K to max $50K dollars. Max extra payment per month is $1k. The Min-Max affordable payment per month is $0 to $5K</p>


<p><b>Medium: </b> Loan min of $20K to max $300K dollars. Max extra payment per month is $1k. The Max affordable payment per month is $0 to $5K</p>


<p><b>Moderate: </b> Loan min of $200K to max $600K dollars. Max extra payment per month is $2k. The Min-Max affordable payment per month is $200 to $10K</p>


<p><b>Upper: </b>Loan min of $500K to max $1.5M dollars. Max extra payment per month is $5k. The Min-Max affordable payment per month is $1K to $30K</p>


<p><b>High: </b>Loan min of $1M to max $5M dollars. Max extra payment per month is $12k. The Min-Max affordable payment per month is $2K to $80K</p>		


	 </div>


	 <div data-role="collapsible">


<h3>Amort Disclaimer</h3>


		


		 <p>This information and application are presented as is with no expressed or implied warrenty.</p>


<p>Figures are estimates only! Your lender's figures will almost no doubt vary.</p>


	 <p>This calulator uses standard and commonly used amoratization formulas, but are approximate, therefore you should always consult with your lender for exact quotes and exactly how they charge interest and amoratize outstanding principal balances.</p>


	 <p>This calculator does not include property taxes which vary greatly in different area's of the US, mandatory insurances such as fire or perhaps flood insurance, nor PMI (Private Mortgage Insurance) which for the USA is an estimate based on MGIC standard 30 year fixed mortgage and FICO credit score... Therefore: please insure you can afford what you are buying!</p>


	 <p>Also: be sure and allow for inevitable home maintenance issues...budget at least 1% of the price of the home per year for repairs: You won't have a landlord to call to fix that leak!</p>


	 <p></p>


	 <p>And finally: Our recommendation is to pay off your loan as quickly as possible: Don't give your hard earned money to the banks! Pay yourself first by making extra payments into your biggest investment: Your house! Your Life!</p>


	 <p></p>


</div>


<div data-role="collapsible">


<h3>Contact</h3>


<p>If you have questions or comments please email: </p>


</div>


	 <div data-role="collapsible">


<h3>Acknowledgements</h3>






<p>Please feel free to view the source of this page. The Amort application is meant as simple demonstration project for what can be done with jQuery Mobile</p>


		 <p>For a rough overview presentation of how to put the app together, including some notes on how to use PhoneGap to port to an installed Android APK application, please ref following link:


		 <a href="https://docs.google.com/open?id=0B6erxKk3CY1fZllhZUFjMWkwaFE">LinktoGoogleDocsHowToDocumentation</a>


		 </p>


		


		 <p></p>


<p>The Graphs are from the FLOT. Please reference: <a href="http://code.google.com/p/flot/">LinkToFLOTgraphs</a>


Per web site:


“Flot is a pure Javascript plotting library for jQuery. It produces graphical plots of arbitrary datasets on-the-fly client-side.


The focus is on simple usage (all settings are optional), attractive looks and interactive features like zooming and mouse tracking.


The plugin works with Internet Explorer 6+, Firefox 2.x+, Safari 3.0+, Opera 9.5+ and Konqueror 4.x+ with the HTML canvas tag (the excanvas Javascript emulation helper is used for IE < 9).”


</p>


<p></p>


<p>The icon is a PNG file that was created by graphic artist, Michael Goodwin from Santa Rosa California.






</p>


<p></p>


<p>The mortgage calculation algorithms were derived from several sources. First was Wikipedia:


<a href="http://en.wikipedia.org/wiki/Mortgage_calculator#Total_Interest_Paid_Formula">LinktoWikiPedia-MortgageCalculations</a>


</p>






And second from Stephen R. Schmitt web site who has excellent javascript mathematical examples and write up:


<a href="http://mysite.verizon.net/res148h4j/javascript/script_mortgages.html">LinktoStephenSchmittDocumentation</a>


</p>


	 </div>


	 </div>


<!-- /content -->






	<div data-role="footer" data-position="fixed" >


		<h4>Information</h4>


	 <div data-role="navbar">


<ul>


	 <li><a href="#homepage" data-icon="home">HomePage</a></li>


<li><a href="#page1" data-icon="gear">Calculator</a></li>


</ul>


</div><!-- /navbar -->


</div><!-- /footer page4 -->


</div>


<!-- /end page FOUR -->






<!-- START OF PAGE 5 - EXTRA PAYMENTS PAGE -->


<div data-role="page" id="page5">


	<div data-backbtn="false" data-role="header">


		<h1>Extra Payments</h1>


	</div><!-- /header -->






	<!-- Begin Content page five -->


	<div data-role="content">


	<div id="displayplainmsgextrapymnts"></div>	


	


	 <!-- thin deviding line -->


		<hr size="1" width="80%" noshade="" align="left"/>


		<p>Extra payments shorten your loan term and save you money!</p>


		


<!--PAYMENT AMOUNT SLIDER FOR extra payments Page5-->


		<div data-role="fieldcontain" id="div-slider-ExtraPaymnt">


<label for="slider4">Extra Payment</label>


<input type="range" name="slider4" id="slider-extrapay" value="0" min="0" max="1000" data-theme="b" data-track-theme="a" />


</div>


<!---slider has change event monitored via script -->


<p></p>	


<div id="displayplainmsgextrapymnts3"></div>


		


		<!-- FLOT PIE CHART -->


<div id="chartpage5-extrapayments6" style="width:200px; height:150px"></div>


		


<div id="displayplainmsgextrapymnts2"></div>


	</div>


	<!-- /content -->






	<div data-role="footer" data-position="fixed" >


		<h4>Extra Payments</h4>


	 <div data-role="navbar">


<ul>


	 <li><a href="#homepage" data-icon="home">Home</a></li>


<li><a href="#page1" data-icon="gear">Calculator</a></li>


<li><a href="ExtraPaymentSchedule.html" data-icon="grid">Pay Schedule - Extra</a></li>


</ul>


</div><!-- /navbar -->


</div><!-- /footer page5 -->


</div>


<!-- / end page FIVE -->






<!-- Note PAGE SIX extra payment schedule is external page -->


<!-- URL is: ExtraPaymentSchedule.html -->






<!-- START OF PAGE 7 - AFFORDABLE LOAN AMOUNT PAGE -->


<div data-role="page" id="page7">


	<div data-backbtn="false" data-role="header">


		<h1>Afforable Loan</h1>


	</div><!-- /header -->






	<!-- Begin Content page seven -->


	<div data-role="content">






		<p>Use slider to select a monthly payment you can afford, then a listing of approximately how much you can borrow will be displayed. Remember this is only principle and interest for the bank loan.</p>


	 <p>Click here to select <a href="#page8" data-rel="dialog" data-transition="pop"> settings </a> for lower/higher min & max payment amounts.</p>


	 <!-- thin deviding line -->


		<hr size="1" width="80%" noshade="" align="left"/>






<!--PAYMENT AMOUNT SLIDER DETERMINE LOAN AMOUNT -->


		<div data-role="fieldcontain" id="div-sliderAffordPymnt">


<label for="slider5">Monthly Payment I Can Afford Per Month</label>


<input type="range" name="slider5" id="sliderAffordPymnt" value="477" min="0" max="40000" data-theme="b" data-track-theme="a" />


</div>


<!---slider has change event monitored via script -->


		<br></br>


<div>loan listing</div>	


		<p></p>


<div class="mylistingclass" id="displayaffordablehouseamount"></div>


</div>


	<!-- /content -->






	<div data-role="footer" data-position="fixed" >


		<h4>Affordable Payment</h4>


	 <div data-role="navbar">


<ul>


<li><a href="#homepage" data-icon="home">Home</a></li>


<li><a href="#page1" data-icon="gear">Calculator</a></li>


</ul>


</div><!-- /navbar -->


</div><!-- /footer page7 -->


</div>


<!-- / end page SEVEN AFFORDABLE LOAN AMOUNT PAGE -->






<!-- START OF PAGE8 / SETTINGS -->


<div data-rel="dialog" data-transition="pop" id="page8">


<div data-role="header">


<h1>Amort Settings</h1>


</div>


<!-- /header -->






<!-- Begin Content page eight -->


<div data-role="content">


<h3 id="mylogo"><img src ="images/MortCalc.png" width=30 height=30 alt="Amort" /> Settings </h3>


<p>Choose a min & max Loan Amount. </p>


<div id="bSetAmount" data-role="fieldcontain">


<fieldset data-role="controlgroup" data-type="vertical">






	Low:


	<input type="radio" name="radio-choice-amnt" id="radio-choice-amnt1" value="1" />


	<label for="radio-choice-amnt1">Min $1K - Max $50K</label>


		


Medium:		


	<input type="radio" name="radio-choice-amnt" id="radio-choice-amnt2" value="2" checked="checked" />


<label for="radio-choice-amnt2">Min $20K - Max $300K</label>


	


Moderate:


	<input type="radio" name="radio-choice-amnt" id="radio-choice-amnt3" value="3" />


<label for="radio-choice-amnt3">Min $200K - Max $600K</label>


	


Upper:


	<input type="radio" name="radio-choice-amnt" id="radio-choice-amnt4" value="4" />


	<label for="radio-choice-amnt4">Min $500K - Max $1.5 million</label>


	


High:


	<input type="radio" name="radio-choice-amnt" id="radio-choice-amnt5" value="5" />


	<label for="radio-choice-amnt5">Min $1 million - Max $5 million</label>


	


</fieldset>


	


<input type="button" value="Save & Close Settings" onclick="button_clicked()" />


<script>


function button_clicked(){


$('.ui-dialog').dialog ('close');


}


</script>


</div>	


<!-- /fieldset -->






</div>


<!-- /content -->


</div>


<!-- /end page EIGHT dialog Settings-->






<!-- ********************** End of HTML ***********************-->






<script type="text/javascript">


function load() {


//default, this only run's on the initial page load


//set localStorage caching


//Check to determine if page has been visited, and local storage has values


var amntInLclStorg;


amntInLclStorg = parseInt(localStorage.LSamount);


if (isNaN(amntInLclStorg)) {


//alert ("null NaN value in local storage");


//initialize localStorage default values


localStorage.setItem('LSamount', 100000);


localStorage.setItem('LSinterest', 4);


localStorage.setItem('LSyears', 30);


localStorage.setItem('LSmonthlypayment', 477.42)


localStorage.setItem('LStotalInterestAmount', 71869.51);


//


localStorage.setItem('LSextrapayment', 0);


localStorage.setItem('LStotalInterestAmountwithExtra', 0);


localStorage.setItem('LSreducedMonthswithExtra', 0);


//


//new default min max amounts for page1 calculator


localStorage.setItem('LSmin', 20);


localStorage.setItem('LSmax', 300);


//


//new defaults for affordable payment amounts used on page7


localStorage.setItem('LSaffordablemnthpaymnt', 477);


localStorage.setItem('LSaffordablemnthpaymntmin', 0);


localStorage.setItem('LSaffordablemnthpaymntmax', 5000);


//


//new default for Extra Payment amount, used on page5


localStorage.setItem('LSextrapaymntmax', 1000);


localStorage.setItem('LSextrapaymntmin', 0);


//


calcMonthlyPayment();


createMyCalcPageMsgs();


} else {


//alert ("there are values in local storage");


//there is already values in local storage, do not initialize


}


} //end load


</script>






<script type="text/javascript">


$('#page1').live('pageshow', function (event, ui) {


//


$("#slider-PrincipleAmnt").attr("value", (localStorage.LSamount / 1000)).slider("refresh");


$("#slider-PrincipleAmnt").val((localStorage.LSamount / 1000));


//


//reset the interest slider on CALCULATOR page1


$("#sliderInterest1").attr("value", (localStorage.LSinterest)).slider("refresh");


$("#sliderInterest1").val(localStorage.LSinterest);


//reset the radio button on CALCULATOR page1


if (localStorage.LSyears === "30") {


$("#radio-choice-3").attr("checked", true).checkboxradio("refresh");


$("#radio-choice-1").attr("checked", false).checkboxradio("refresh");


$("#radio-choice-2").attr("checked", false).checkboxradio("refresh");


}


if (localStorage.LSyears === "15") {


$("#radio-choice-3").attr("checked", false).checkboxradio("refresh");


$("#radio-choice-1").attr("checked", false).checkboxradio("refresh");


$("#radio-choice-2").attr("checked", true).checkboxradio("refresh");


}


if (localStorage.LSyears === "10") {


$("#radio-choice-3").attr("checked", false).checkboxradio("refresh");


$("#radio-choice-1").attr("checked", true).checkboxradio("refresh");


$("#radio-choice-2").attr("checked", false).checkboxradio("refresh");


}


//new


var amntInLclStorg;


amntInLclStorg = parseInt(localStorage.LSamount);


//


var amntSelected;


amntSelected = $('input[name=radio-choice-amnt]:checked').val();


//


if (amntSelected === "1") {


localStorage.LSmin = "1";


localStorage.LSmax = "50";


	//


	myAmntSliderMin = (localStorage.LSmin);


myAmntSliderMax = (localStorage.LSmax);


//


$("#slider-PrincipleAmnt").attr("min", myAmntSliderMin).slider("refresh");


$("#slider-PrincipleAmnt").attr("max", myAmntSliderMax).slider("refresh");


//


//less than $50K


	amntInLclStorg = parseInt(localStorage.LSamount);


if (amntInLclStorg < 50000) {


	 //do nothing


	 //alert ("in button 1, less than 50K");


} else {


	 //alert ("in button 1, else not between 1K and 50K");


//adjust default principle mid way in range: 25K


$("#slider-PrincipleAmnt").attr("value", 25).slider("refresh");


	 $("#slider-PrincipleAmnt").val(25);


	 localStorage.LSamount = (($("#slider-PrincipleAmnt").val()) * 1000);


} //endif adjusting principle slider


//


} //endif button 1 selectd


//


if (amntSelected === "2") {


localStorage.LSmin = "20";


localStorage.LSmax = "300";


	//


	myAmntSliderMin = (localStorage.LSmin);


myAmntSliderMax = (localStorage.LSmax)


//


$("#slider-PrincipleAmnt").attr("min", myAmntSliderMin).slider("refresh");


$("#slider-PrincipleAmnt").attr("max", myAmntSliderMax).slider("refresh");


//


//between $20K and $300K


	amntInLclStorg = parseInt(localStorage.LSamount);


if (amntInLclStorg < 300000 && amntInLclStorg > 20000) {


	 //do nothing


	 //alert ("in button 2, between 20K and 300K");


} else {


	 //alert ("in button 2, else not between 20K and 300K");


//adjust default principle mid way in range: 100


$("#slider-PrincipleAmnt").attr("value", 100).slider("refresh");


	 $("#slider-PrincipleAmnt").val(100);


	 localStorage.LSamount = (($("#slider-PrincipleAmnt").val()) * 1000);


} //endif adjusting principle slider


//


} //endif button 2 selectd


//


//


if (amntSelected === "3") {


localStorage.LSmin = "200";


localStorage.LSmax = "600";


//


	myAmntSliderMin = (localStorage.LSmin);


myAmntSliderMax = (localStorage.LSmax)


//


$("#slider-PrincipleAmnt").attr("min", myAmntSliderMin).slider("refresh");


$("#slider-PrincipleAmnt").attr("max", myAmntSliderMax).slider("refresh");


//


//between $200K and $600K


if (amntInLclStorg < 600000 && amntInLclStorg > 200000) {


//do nothing


	 //alert ("in do nothing pagebeforeshow, between $200k and $600k " + localStorage.LSamount);


} else {


//adjust default principle mid way in range: 300


$("#slider-PrincipleAmnt").attr("value", 300).slider("refresh");


	 $("#slider-PrincipleAmnt").val(300);


	 localStorage.LSamount = (($("#slider-PrincipleAmnt").val()) * 1000);


} //endif adjusting principle slider


//


} //endif button 3 selectd


//


//


if (amntSelected === "4") {


localStorage.LSmin = "500";


localStorage.LSmax = "1500";


//


	myAmntSliderMin = (localStorage.LSmin);


myAmntSliderMax = (localStorage.LSmax)


//


$("#slider-PrincipleAmnt").attr("min", myAmntSliderMin).slider("refresh");


$("#slider-PrincipleAmnt").attr("max", myAmntSliderMax).slider("refresh");


//


//between $500K and $1.5m


if (amntInLclStorg < 1500000 && amntInLclStorg > 500000) {


//do nothing


	 //alert ("in do nothing pagebeforeshow, between $500k and $1.5m " + localStorage.LSamount);


} else {


//adjust default principle mid way in range: 1000000


	 $("#slider-PrincipleAmnt").attr("value", 1000).slider("refresh");


	 $("#slider-PrincipleAmnt").val(1000);


localStorage.LSamount = (($("#slider-PrincipleAmnt").val()) * 1000);


} //endif adjusting principle slider


//


} //endif button 4 selectd


//


//


if (amntSelected === "5") {


localStorage.LSmin = "1000";


localStorage.LSmax = "5000";


	//


	myAmntSliderMin = (localStorage.LSmin);


myAmntSliderMax = (localStorage.LSmax)


//


$("#slider-PrincipleAmnt").attr("min", myAmntSliderMin).slider("refresh");


$("#slider-PrincipleAmnt").attr("max", myAmntSliderMax).slider("refresh");


//


//between $1m and $5m


if (amntInLclStorg < 5000000 && amntInLclStorg > 1000000) {


//do nothing, don't reset the principle amount


	 //alert ("in do nothing pagebeforeshow, between $1m and $5m");


} else {


	 //alert ("in the else nothing pagebeforeshow, between $1m and $5m " + localStorage.LSamount);


//adjust default principle mid way in range: 2500000


	 $("#slider-PrincipleAmnt").attr("value", 2500).slider("refresh");


	 $("#slider-PrincipleAmnt").val(2500);


localStorage.LSamount = (($("#slider-PrincipleAmnt").val()) * 1000);


} //endif adjusting principle slider


//


} //endif button 5 selectd


//


//put in slider labels


//new an attempt to label the min max values on the loan Amount slider page1


//code found on jquery forum: https://forum.jquery.com/topic/how-do-i-add-text-labels-below-slider


$.fn.extend({


sliderLabels: function(left,right) {


var $this = $(this);


var $sliderdiv= $this.next("div.ui-slider[role='application']");


//This is a bit inefficient, but it works...put in the text...then take it out, then put it back in,


//which has the effect of refreshing the label amounts


$sliderdiv


.prepend('<span class="ui-slider-inner-label" style="position: absolute; left:0px; top:20px; text-shadow:none; color:black; font-weight:normal">'+left+ '</span>')


.append('<span class="ui-slider-inner-label" style="position: absolute; right:0px; top:20px; text-shadow:none; color:black; font-weight:normal">'+right+ '</span>');


//this works!!! take label out


$(".ui-slider-inner-label").remove();


//put back in


$sliderdiv


.prepend('<span class="ui-slider-inner-label" style="position: absolute; left:0px; top:20px; text-shadow:none; color:black; font-weight:normal">'+left+ '</span>')


.append('<span class="ui-slider-inner-label" style="position: absolute; right:0px; top:20px; text-shadow:none; color:black; font-weight:normal">'+right+ '</span>');	


	 //


}


});


//


$('#slider-PrincipleAmnt').sliderLabels('Min: $'+(localStorage.LSmin)+'K' , 'Max: $'+(localStorage.LSmax)+'K');


//end new


//end new


calcMonthlyPayment();


createMyCalcPageMsgs();


//


});//end page1 live event


</script>






<script type="text/javascript">


$("#div-sliderPrincipleAmnt").change(function () {


//SLIDER FOR LOAN AMOUNT ON CALCULATOR page1


//


localStorage.LSamount = (($("#slider-PrincipleAmnt").val()) * 1000);


//


calcMonthlyPayment();


createMyCalcPageMsgs();


});


</script>






<script type="text/javascript">


$("#div-sliderInterest1").change(function() {


//SLIDER FOR INTEREST RATE PAGE 1


localStorage.LSinterest = $("#sliderInterest1").val();


//


calcMonthlyPayment();


createMyCalcPageMsgs();


});


</script>






<script type="text/javascript">


$('input[name=radio-choice-1]').change(function () {


//BUTTON FOR TERM LENGTH IN YEARS ON CALCULATOR page1


//


localStorage.LSyears = $('input[name=radio-choice-1]:checked').val();


//


calcMonthlyPayment();


createMyCalcPageMsgs();


});


</script>






<script type="text/javascript">


$('#page2').live('pagecreate', function (event, ui) {


//PAYMENT SCHEDULE PAGE ID "page2" SELECTED EVENT


//NOTE: page two is an external page link


//alert('This page was just inserted into the dom!');


//pass in a page number to the monthly schedule, page 6 does extra pymnts


calcMonthlySchedule();


//


});


</script>






<script type="text/javascript">


$('#page3').live('pagebeforeshow', function (event) {


//FLOT Graph PAGE ID "page3" SELECTED EVENT


calcMonthlyPayment();


showMyGraphFLOT(3);


});


</script>






<script type="text/javascript">


$('#page3').live('pageshow', function (event, ui) {


//reset the interest slider on CHART page3


$("#sliderInterest2").val(localStorage.LSinterest);


//


//reset the radio button on CHART page3


if (localStorage.LSyears === "30") {


$("#radio-choice-6").attr("checked", true).checkboxradio("refresh");


$("#radio-choice-4").attr("checked", false).checkboxradio("refresh");


$("#radio-choice-5").attr("checked", false).checkboxradio("refresh");


}


if (localStorage.LSyears === "15") {


$("#radio-choice-6").attr("checked", false).checkboxradio("refresh");


$("#radio-choice-4").attr("checked", false).checkboxradio("refresh");


$("#radio-choice-5").attr("checked", true).checkboxradio("refresh");


}


if (localStorage.LSyears === "10") {


$("#radio-choice-6").attr("checked", false).checkboxradio("refresh");


$("#radio-choice-4").attr("checked", true).checkboxradio("refresh");


$("#radio-choice-5").attr("checked", false).checkboxradio("refresh");


}


});//end page3 live event


</script>






<script type="text/javascript">


$("#div-sliderInterest2").change(function() {


//SLIDER FOR INTEREST RATE ON CHART PAGE 3


localStorage.LSinterest = $("#sliderInterest2").val();


//


calcMonthlyPayment();


showMyGraphFLOT(3);


});


</script>






<script type="text/javascript">


$('input[name=radio-choice-2]').change(function () {


//BUTTONS FOR TERM LENGTH IN YEARS ON CHART page3


//


localStorage.LSyears = $('input[name=radio-choice-2]:checked').val();


//


calcMonthlyPayment();


showMyGraphFLOT(3);


});


</script>






<script type="text/javascript">


$('#page5').live('pagebeforeshow', function (event) {


//FLOT Graph PAGE ID "page5" SELECTED EVENT - Extra Payments Page


//showMyGraphFLOT(5) page - initially populate string variables


//


//new from settings page8


$("#slider-extrapay").attr("max", (localStorage.LSextrapaymntmax)).slider("refresh");


//


//new an attempt to label the min max values on the extra pay slider


//code found on jquery forum: https://forum.jquery.com/topic/how-do-i-add-text-labels-below-slider


$.fn.extend({


sliderLabels: function(left,right) {


var $this = $(this);


var $sliderdiv= $this.next("div.ui-slider[role='application']");


	 //This is a bit inefficient, but it works...put in the text...then take it out, then put it back in,


	 //which has the effect of refreshing the label amounts


$sliderdiv


.prepend('<span class="ui-slider-inner-label" style="position: absolute; left:0px; top:20px; text-shadow:none; color:black; font-weight:normal">'+left+ '</span>')


.append('<span class="ui-slider-inner-label" style="position: absolute; right:0px; top:20px; text-shadow:none; color:black; font-weight:normal">'+right+ '</span>');


	 //this works!!! take label out


	 $(".ui-slider-inner-label").remove();


//put back in


$sliderdiv


.prepend('<span class="ui-slider-inner-label" style="position: absolute; left:0px; top:20px; text-shadow:none; color:black; font-weight:normal">'+left+ '</span>')


.append('<span class="ui-slider-inner-label" style="position: absolute; right:0px; top:20px; text-shadow:none; color:black; font-weight:normal">'+right+ '</span>');	


	 //


}


});


//


$('#slider-extrapay').sliderLabels('Min: $0.00', 'Max: $'+(localStorage.LSextrapaymntmax)+'.00');


//end new


//


var myformatedprinciple, myformatedmonthlypayment, myformatedtotalloaninterest, termmonths;


var myLoanMessageChartPart1, myLoanMessageChartPart2, myLoanMessageChartPart3, myExtraPaymentMsgInitialZero;


//null out initial msg


myLoanMessageChartPart1 = ""; //null out the message


document.getElementById("displayplainmsgextrapymnts").innerHTML = myLoanMessageChartPart1;


//


//build out msg variables for top page5 message


myformatedprinciple = formatMyCurrency(localStorage.LSamount);


myformatedmonthlypayment = formatMyCurrency(localStorage.LSmonthlypayment);


//this total interest paid is set on page5 slider calculating extrapayment


myformatedtotalloaninterest = formatMyCurrency(parseFloat(localStorage.LStotalInterestAmount));


//


termmonths = parseInt(localStorage.LSyears) * 12;


//


//Build the message


myLoanMessageChartPart1 = "<b>" + "Selected Principle, Rate, Term: " + "</b>" + myformatedprinciple + ", " + parseFloat(localStorage.LSinterest) + "%, " + parseInt(localStorage.LSyears) + " yr (mnth: " + termmonths + ")";


myLoanMessageChartPart2 = "Your monthly payment is: " + myformatedmonthlypayment;


myLoanMessageChartPart3 = "Your Total Interest is: " + myformatedtotalloaninterest;


//


document.getElementById("displayplainmsgextrapymnts").innerHTML += myLoanMessageChartPart1 + "<br>" + myLoanMessageChartPart2 + "<br>" + myLoanMessageChartPart3 + "<br>";


//


/*


//display an initial msg to the page where the extra payments chart goes if Extra is zero


myExtraPaymentMsgInitialZero = "Use the BIG slider for extra payments. Set initial amount, term & interest with Calculator";


document.getElementById("displayplainmsgextrapymnts3").innerHTML = myExtraPaymentMsgInitialZero;


*/


//


createMyExtraPayMsgs();


//showMyGraphFLOT(6);


//


});


</script>






<script type="text/javascript">


$("#div-slider-ExtraPaymnt").change(function () {


//SLIDER FOR EXTRA PAYMENT ON chartpage5-extrapayments page5


var myNullMsg, myExtraPaymentMsgInitialZero;


//capture slider value, put into localStorage


localStorage.LSextrapayment = $("#slider-extrapay").val();


//


createMyExtraPayMsgs();


showMyGraphFLOT(6);


//


});


</script>






<script type="text/javascript">


$('#page6').live('pagecreate', function (event,ui) {


//PAYMENT SCHEDULE PAGE ID "page6" SELECTED EVENT


//NOTE: page six is an external page link


//alert('This page was just inserted into the dom!');


//pass in a page number to the monthly schedule, page 6 does extra pymnts


//


MyExtraPaymentListing2();


//


});


</script>






<script type="text/javascript">


function MyExtraPaymentListing2() {


//Called from page5 pagecreate event


//this is put onto a page6 external page: ExtraPaymentSchedule.html


//ref http://en.wikipedia.org/wiki/Mortgage_calculator#Total_Interest_Paid_Formula


//ref Stephen R. Schmitt web site: http://mysite.verizon.net/res148h4j/javascript/script_mortgages.html


//


var principal, myPrincipleFormatted, int_rate, payment, myPaymentFormatted, extra, myExtraFormatted;


var myTotalPaymentwithExtra, myTotalPaymentwithExtraFormatted, myReducedMonths, mycount, pp, myPPFormatted;


var interestpart, myInterestPartFormatted, myRegularMntlyPymntNoExtra, myRegularMntlyPymntNoExtraFormatted;


var myExtraPaymentMsgPart1, myExtraPaymentMsgPart2, myExtraPaymentMsgPart3, myExtraPaymentMsgPart4;


//


principal = parseInt(localStorage.LSamount);


myPrincipleFormatted = formatMyCurrency(principal);


//


int_rate = parseFloat(localStorage.LSinterest);


//


//var payment = parseFloat($("#thepayment").val());


payment = parseFloat(localStorage.LSmonthlypayment);


myPaymentFormatted = formatMyCurrency(payment);


//var extra = parseFloat($("#extrapaymnt").val());


extra = parseFloat(localStorage.LSextrapayment);


myExtraFormatted = formatMyCurrency(extra);


myTotalPaymentwithExtra = payment + extra;


myTotalPaymentwithExtraFormatted = formatMyCurrency(myTotalPaymentwithExtra);


myReducedMonths = parseInt(localStorage.LSreducedMonthswithExtra);


mycount = parseInt("0");


pp = parseFloat("0");


//pp means principal part


myPPFormatted = formatMyCurrency(pp);


interestpart = parseFloat("0");


//


if (extra > 0) {


myExtraPaymentMsgPart1 = "Loan Principle, Rate, Term is: " + myPrincipleFormatted + ", " + int_rate + "%, " + myReducedMonths + " months";


myExtraPaymentMsgPart2 = "Your monthly payment with extra " + myExtraFormatted + " is now : " + myTotalPaymentwithExtraFormatted;


//


document.getElementById("extrapaymentscheduleheadermsg").innerHTML = myExtraPaymentMsgPart1 + "<br>" + myExtraPaymentMsgPart2 + "<br>" + "<br>";


//


} else {


var myRegularMonthsNoExtra = parseFloat(localStorage.LSyears) * 12;


myExtraPaymentMsgPart1 = "Loan Principle, Rate, Term is: " + myPrincipleFormatted + ", " + int_rate + "%, " + myRegularMonthsNoExtra + " months";


myExtraPaymentMsgPart2 = "Your regular monthly payment is: " + myPaymentFormatted + " without extra payments.";


//


document.getElementById("extrapaymentscheduleheadermsg").innerHTML = myExtraPaymentMsgPart1 + "<br>" + myExtraPaymentMsgPart2 + "<br>" + "<br>";


//


} //end else


//


myExtraPaymentMsgPart3 = "&nbsp;" + "&nbsp;" + "&nbsp;" + "&nbsp;" + "Principle | Interest" + "&nbsp;" + "&nbsp;" + " | Balance" + "<br>";


//


myExtraPaymentMsgPart4 = "" //null out schedule


//


while (principal > 0.0) {


//


interestpart = 0.01 * Math.round(principal * int_rate / 12);


// last payments


if (payment > principal + interestpart) {


payment = principal + interestpart;


extra = 0.0;


} else if (extra > principal + interestpart - payment) {


extra = principal + interestpart - payment;


	}


//


pp = (payment + extra) - interestpart;


principal = principal + interestpart - (payment + extra);


mycount = mycount + 1;


	//


myInterestPartFormatted = formatMyCurrency(interestpart);


myPrincipleFormatted = formatMyCurrency(principal);


myPPFormatted = formatMyCurrency(pp);


//


myExtraPaymentMsgPart4 = myExtraPaymentMsgPart4 + mycount + " | " + myPPFormatted + " | " + myInterestPartFormatted + " | " + myPrincipleFormatted + "<br>";


//


//document.getElementById("extrapaymentscheduledisplay").innerHTML += myExtraPaymentMsgPart4 + "<br>";


} //end while loop


//


document.getElementById("extrapaymentscheduledisplay").innerHTML += myExtraPaymentMsgPart3 + myExtraPaymentMsgPart4 + "<br>";






}


</script>






<script type="text/javascript">


function showMyGraphFLOT(pagenum) {


//pagenum variables:


// - pagenum 6 is passed in from page5 extrapayments page


// - pagenum 3 is passed in from page3 flot graph page


//


var myformatedprinciple, termmonths, myformatedmonthlypayment, myformatedloaninterest;


var myLoanMessageChartPart1, myLoanMessageChartPart2, myLoanMessageChartPart3;


var data2, myChart;


//


myformatedprinciple = formatMyCurrency(parseFloat(localStorage.LSamount));


termmonths = parseInt(localStorage.LSyears) * 12;


myformatedmonthlypayment = formatMyCurrency(parseFloat(localStorage.LSmonthlypayment));


//


myformatedloaninterest = formatMyCurrency(parseFloat(localStorage.LStotalInterestAmount));


//populate a string variable


//note I had to put msg code here and not after the plot code, or would fail


myLoanMessageChartPart1 = ""; //null out the message


if (pagenum === 3) {


document.getElementById("displayplainmsgchart").innerHTML = myLoanMessageChartPart1;


}


if (pagenum === 5) {


document.getElementById("displayplainmsgextrapymnts").innerHTML = myLoanMessageChartPart1;


}


//finished nulling out the message


//Build the message


myLoanMessageChartPart1 = "<b>" + "Selected Principle, Rate, Term: " + "</b>" + myformatedprinciple + ", " + localStorage.LSinterest + "%, " + parseInt(localStorage.LSyears) + " yr (mnth: " + termmonths + ")";


myLoanMessageChartPart2 = "Your monthly payment is: " + myformatedmonthlypayment;


myLoanMessageChartPart3 = "Your Total Interest is: " + myformatedloaninterest;


//


if (pagenum === 3) {


document.getElementById("displayplainmsgchart").innerHTML += myLoanMessageChartPart1 + "<br>" + myLoanMessageChartPart2 + "<br>" + myLoanMessageChartPart3 + "<br>";


}


if (pagenum === 5) {


document.getElementById("displayplainmsgextrapymnts").innerHTML += myLoanMessageChartPart1 + "<br>" + myLoanMessageChartPart2 + "<br>" + myLoanMessageChartPart3 + "<br>";


}


//


//begin graph


data2 = [


	{ label: "Priciple", data: (parseFloat(localStorage.LSamount))},


{ label: "Interest", data: (parseFloat(localStorage.LStotalInterestAmount))}


];


//


if (pagenum === 3) {


myChart = "#chartpage3";


}


//


if (pagenum === 6) {


myChart = "#chartpage5-extrapayments6";


data2 = [


	 { label: "Priciple", data: (parseFloat(localStorage.LSamount))},


{ label: "Interest", data: (parseFloat(localStorage.LStotalInterestAmountwithExtra))}


];


}


//


$.plot($(myChart), data2,


{


series: {


pie: {


show: true,


radius: 1,


label: {


show: true,


radius: 1/2,


formatter: function (label, series) {


return '<div style="font-size:12pt;text-align:center;padding:2px;color:black;">' + label + '<br/>' + Math.round(series.percent) + '%</div>';


},


background: {opacity: 0.9 }


			}


}


},


legend: {


show: true


}


}); //end of the flot graph on page3


} //end showMyGraphFLOT


</script>






<script type="text/javascript">


function calcMonthlySchedule() {


// ref http://en.wikipedia.org/wiki/Mortgage_calculator#Total_Interest_Paid_Formula


// Also: Stephen R. Schmitt web site:


// http://mysite.verizon.net/res148h4j/javascript/script_mortgages.html


//alert('The calcMonthlySchedule function was called!');


//


var myPrinciple = parseInt(localStorage.LSamount);


var myPrincipleFormatted = formatMyCurrency(myPrinciple);


var myRate = localStorage.LSinterest;


var myTerm = localStorage.LSyears; //without extra payments


//


var numberofpayments = parseInt("0"); //used on the listing


//


var myMonths = myTerm * 12;


var myPercentageRate = (myRate / 100) / 12;


//


var myNumerator = myPercentageRate * Math.pow((1 + myPercentageRate), myMonths);


var myDenominator = Math.pow((1 + myPercentageRate), myMonths) - 1;


//


var myMonthlyPayment = (myPrinciple * myNumerator) / myDenominator;


var myMonthlyPaymentFormatted = formatMyCurrency(myMonthlyPayment);


//


var myDisplay = ""; //null out the display


var myLoanMessageSchdPart1 = "Loan Principle, Rate, Term is: " + myPrincipleFormatted + ", " + myRate + "%, " + myTerm + " years" ;


var myLoanMessageSchdPart2 = "Your monthly payment is: " + myMonthlyPaymentFormatted;


//


myDisplay = "Principle + Interest = Payment";


document.getElementById("paymentscheduledisplay").innerHTML = myLoanMessageSchdPart1 + "<br>" + myLoanMessageSchdPart2 + "<br>" + myDisplay + "<br>";


//


//fudge the last payment


var monthlyPrinciplePymntSubTotal = 0;


while (myPrinciple > 0.0) {


var monthlyIntPymnt = 0.01 * Math.round(myPrinciple * myRate / 12);


if (myMonthlyPayment > myPrinciple + monthlyIntPymnt) myMonthlyPayment = myPrinciple + monthlyIntPymnt;


var monthlyPrinciplePymnt = myMonthlyPayment - monthlyIntPymnt;


//


	myPrinciple = myPrinciple + monthlyIntPymnt - myMonthlyPayment;


numberofpayments = numberofpayments + 1;


//


var monthlyIntPymntFormatted = formatMyCurrency(monthlyIntPymnt);


var monthlyPrinciplePymntFormatted = formatMyCurrency(monthlyPrinciplePymnt);


//


	var myMonthlyPaymentCalcFormatted = formatMyCurrency(monthlyIntPymnt + monthlyPrinciplePymnt);


	//


monthlyPrinciplePymntSubTotal = monthlyPrinciplePymntSubTotal + monthlyPrinciplePymnt;


	if (numberofpayments <= (myMonths - 0)) {


	 myDisplay = numberofpayments + " : " + monthlyPrinciplePymntFormatted + " + " + monthlyIntPymntFormatted + " = " + myMonthlyPaymentCalcFormatted;


	} else {


	 //just suppress the extra dribble of principle: this is an estimation anyways


	 //alert ("hey the parse int of the sub total is slightly off: " + monthlyPrinciplePymntSubTotal);


	} //end else


document.getElementById("paymentscheduledisplay").innerHTML += myDisplay + "<br>";


} //end while loop


//


} //end calcMonthlySchedule


</script>






<script>


function formatMyCurrency(num) {


//this function found at: http://javascript.internet.com/forms/currency-format.html


num = num.toString().replace(/\$|\,/g,'');


if (isNaN(num))


num = "0";


	// don't use triple equal signs it will error formula


sign = (num == (num = Math.abs(num)));


num = Math.floor(num * 100 + 0.50000000001);


cents = num%100;


num = Math.floor(num / 100).toString();


if (cents < 10)


cents = "0" + cents;


for (var i = 0; i < Math.floor((num.length - (1 + i)) / 3); i++)


num = num.substring(0, num.length - (4 * i + 3)) + ',' +


num.substring(num.length - (4 * i + 3));


return (((sign)?'':'-') + '$' + num + '.' + cents);


}


</script>






<script>


function createMyExtraPayMsgs() {


//Core calculation code drived from Stephen R. Schmitt http://mysite.verizon.net/res148h4j/javascript/script_mortgages.html


//This function is only called from the slider change ("#div-slider-ExtraPaymnt").change(function ()


//These messages are put on Page5 Extrapayments page


//


var extra, extraFormatted, myPrinciple, myPrincipleFormatted, myRate, myTerm, myMonths, payment, paymentFormatted;


var myShortenedTermMonths, count, interest, newTotalPayment, newTotalPaymentFormatted, xnumerator, xdenominator;


var interestpart, myTotalInterestSavings, myTotalInterestSavingsFormatted, myShortenedTermMonthsModulo;


var myShortenedTermMonthsYears, interestFormatted, myTotalExtraPaid, myTotalExtraPaidFormatted;


var myExtraPaymentMsgPart1, myExtraPaymentMsgPart2, myExtraPaymentMsgPart4, myExtraPaymentMsgPart5, myExtraPaymentMsgPart6;


//


if (localStorage.LSextrapayment == 0) {


	//display an initial msg to the page where the extra payments chart goes if Extra is zero


	var myNullMsg = ""


var myExtraPaymentMsgInitialZero = "Use above slider for extra payments. Use calculator to set initial amount, term & interest.";


document.getElementById("displayplainmsgextrapymnts3").innerHTML = myExtraPaymentMsgInitialZero;


	document.getElementById("displayplainmsgextrapymnts2").innerHTML = myNullMsg;


	//null out the chart too


	document.getElementById("chartpage5-extrapayments6").innerHTML = myNullMsg;


} else {


	//


extra = parseFloat(localStorage.LSextrapayment);


extraFormatted = formatMyCurrency(localStorage.LSextrapayment);


//


myPrinciple = parseFloat(localStorage.LSamount);


myPrincipleFormatted = formatMyCurrency(myPrinciple);


//note interest rate in logic is plain number


myRate = parseFloat(localStorage.LSinterest);


//


myTerm = parseInt(localStorage.LSyears);


myMonths = myTerm * 12;


//


payment = parseFloat(localStorage.LSmonthlypayment);


paymentFormatted = formatMyCurrency(localStorage.LSmonthlypayment);


//


count = parseInt("0");


interest = parseFloat("0");


//


newTotalPayment = (parseFloat(localStorage.LSmonthlypayment)) + (parseFloat(localStorage.LSextrapayment));


newTotalPaymentFormatted = formatMyCurrency(newTotalPayment);


//


xnumerator = myRate * Math.pow((1 + myRate), 360);


//


xdenominator = Math.pow((1 + myRate), 360) - 1;


//


interestpart = parseFloat("0");


//number of payments and total interest with extra principal


while (myPrinciple > 0.0) {


interestpart = 0.01 * Math.round(myPrinciple * myRate / 12);


myPrinciple = myPrinciple + interestpart - (payment + extra);


interest += interestpart;


count = count + 1;


	}


//set localStorage count of months with extra


localStorage.LSreducedMonthswithExtra = count;


//


//a few odd ball cents calculate even with 0 extra, so default to 0


myTotalInterestSavings = parseFloat(localStorage.LStotalInterestAmount) - parseFloat(interest);


if (myTotalInterestSavings < 1) {


myTotalInterestSavings = 0;


}


//


myTotalInterestSavingsFormatted = formatMyCurrency(myTotalInterestSavings);


//


myShortenedTermMonths = myMonths - count;


//


myShortenedTermMonthsModulo = myShortenedTermMonths % 12;


myShortenedTermMonthsYears = parseInt(myShortenedTermMonths / 12);


//


if (myShortenedTermMonths > 11) {


myShortenedTermMonths = myShortenedTermMonthsYears + " years " + myShortenedTermMonthsModulo;


}


//


interestFormatted = formatMyCurrency(interest);


//set the localStorage with interest amount


localStorage.LStotalInterestAmountwithExtra = interest;


//


myTotalExtraPaid = extra * count;


myTotalExtraPaidFormatted = formatMyCurrency(myTotalExtraPaid);


//


var myReturnOnExtraPayment = myTotalInterestSavings / myTotalExtraPaid;


var myReturnOnExtraPaymentFormatted = formatMyCurrency(myReturnOnExtraPayment);


//


myExtraPaymentMsgPart1 = ""; //null out messages


myExtraPaymentMsgPart2 = "";


//var myExtraPaymentMsgPart3 = "";


myExtraPaymentMsgPart4 = "";


myExtraPaymentMsgPart5 = "";


myExtraPaymentMsgPart6 = "";


document.getElementById("displayplainmsgextrapymnts2").innerHTML = myExtraPaymentMsgPart1;


//


myExtraPaymentMsgPart1 = "If starting at your first installement you pay an extra " + "<b>" + extraFormatted + "</b>" + " dollars per month, you will save " + "<b>" + myTotalInterestSavingsFormatted + "</b>" + " in interest payments over the life of the loan and also reduce your loan term by " + "<b>" + myShortenedTermMonths + "</b>" + " months, paying off in " + "<b>" + count + "</b>" + " months, rather than " + myMonths + " months with no extra payments." + "<br>" + "<br>";


//


myExtraPaymentMsgPart2 = "So, while the extra payments of " + "<b>" + extraFormatted + "</b>" + " dollars per month for " + "<b>" + count + "</b>" + " months will add up to " + "<b>" + myTotalExtraPaidFormatted + "</b>" + " dollars, for every dollar you invest in paying off your house early, it actually earns you " + "<b>" + myReturnOnExtraPaymentFormatted + "</b>" + " per dollar invested...Pay Yourself First, not the bank!" + "<br>";


//


//myExtraPaymentMsgPart3 = "Paying extra principal is a great deal! If you were to instead save an " + extra + " dollars per month in a regular compounding savings account earning 3% annual yeild for " + count + " months, you would only earn?????";


//


myExtraPaymentMsgPart4 = "Your new monthly payment is " + paymentFormatted + " + " + extraFormatted + " = " + "<b>" + newTotalPaymentFormatted + "</b>";


myExtraPaymentMsgPart5 = "Your new term is " + count + " months.";


myExtraPaymentMsgPart6 = "Your new lower total interest paid is: " + interestFormatted;


//


document.getElementById("displayplainmsgextrapymnts2").innerHTML = myExtraPaymentMsgPart1 + myExtraPaymentMsgPart2;


document.getElementById("displayplainmsgextrapymnts3").innerHTML = myExtraPaymentMsgPart5 + "<br>" + myExtraPaymentMsgPart4 + "<br>" + myExtraPaymentMsgPart6;


//


} //end else


}


</script>






<script>


$("#div-sliderAffordPymnt").change(function () {


//SLIDER FOR PAYMENT AMOUNT ON Affordability by payment page7


//from the affordable payment slider bar on page 7


/* control listing as simple courier fixed font output text


5 char $0.00


6 char $10.00


7 char $270.55


9 char $1,082.19


10 char $10,010.30


11 char $100,102.95


13 char $1,000,217.87


14 char $10,000,014.27


*/


var fourteenSpaces, mySpaces, sixSpaces, interestCounter, isitEven, myAfforadableLoanAmount, myAfforadableLoanAmountFormatted, myDenominator, myDisplay, myMonths, myNumerator, myPercentageRate, slider_payment, yearCounter;


slider_payment = $("#sliderAffordPymnt").val();


//


interestCounter = parseFloat("2"); //default 2%


myPercentageRate = parseFloat((interestCounter / 100) / 12); //default 2%


myMonths = parseInt("360"); //default 30 years


//


sixSpaces = "&nbsp;" + "&nbsp;" + "&nbsp;" + "&nbsp;" + "&nbsp;" + "&nbsp;" + "&nbsp;";


twoSpaces = "&nbsp;" + "&nbsp;";


fourteenSpaces = "&nbsp;" + "&nbsp;" + "&nbsp;" + "&nbsp;" + "&nbsp;" + "&nbsp;" + "&nbsp;" + "&nbsp;" + "&nbsp;" + "&nbsp;" + "&nbsp;" + "&nbsp;" + "&nbsp;" + "&nbsp;";


myDisplay = "Int " + twoSpaces + "| 30 Yr" + sixSpaces + "| 15 Yr" + sixSpaces + "| 10 Yr" + "<br>"; //set list header


myAfforadableLoanAmount = parseFloat("0");


myAfforadableLoanAmountFormatted = parseFloat("0");


//


yearCounter = parseInt("1");


//


//a var to control line breaks and space padding depending on interest rate


isitEven = parseFloat("0");


mySpaces = ""; //null


//


while (interestCounter < 9.1) {


//pad the interest with spaces


if (isitEven === 1 || isitEven === 0) {


//add seven? spaces


mySpaces = "&nbsp;" + "&nbsp;" + "&nbsp;";


}


if (isitEven === 1.5 || isitEven === 0.5) {


//add 2 spaces


//mySpaces = "&nbsp;" + "&nbsp;";


	 //add 1 space


mySpaces = "&nbsp;";


}


myDisplay += interestCounter + "%" + mySpaces;


while (yearCounter < 4) {


myNumerator = myPercentageRate * Math.pow((1 + myPercentageRate), myMonths);


myDenominator = Math.pow((1 + myPercentageRate), myMonths) - 1;


//


myAfforadableLoanAmount = (myDenominator * slider_payment) / myNumerator;


myAfforadableLoanAmountFormatted = formatMyCurrency(myAfforadableLoanAmount);


//


myDisplay += " | " + myAfforadableLoanAmountFormatted;


//


yearCounter = yearCounter + 1;


if (yearCounter === 2) {


myMonths = 180;


}


if (yearCounter === 3) {


myMonths = 120;


}


} //end yearCount while


//


interestCounter = interestCounter + 0.25;


myPercentageRate = parseFloat((interestCounter / 100) / 12);


//add a line break


myDisplay += "<br>";


//reset the months


yearCounter = 1;


myMonths = parseInt("360");


//then cycle thru the next interest rate setting


//put in line break when increment interest rate by whole percentage


isitEven = interestCounter % 2;


//alert ("hey the isitEven: " + isitEven + "interestCounter: " + interestCounter);


if (isitEven === 1 || isitEven === 0) {


//add a line break


myDisplay += "<br>";


}


//


mySpaces = ""; //null out space padding for interest column


} // end interestCounter while


//


document.getElementById("displayaffordablehouseamount").innerHTML = myDisplay;


//


}); //end page7 slider change event


</script>






<script type="text/javascript">


function calcMonthlyPayment() {


//ref http://en.wikipedia.org/wiki/Mortgage_calculator#Total_Interest_Paid_Formula


//note got most of the core code for this algorithm from:


// Stephen R. Schmitt web site:


// http://mysite.verizon.net/res148h4j/javascript/script_mortgages.html


//


var myPrinciple, myRate, myTerm, numOfMonths, intRatePerYr;


var numerator, denominator, myMonthlyPayment, loanTotal, totalLoanInterest;


//get principle rate and term from localStorage cache


myPrinciple = parseInt(localStorage.LSamount);


myRate = localStorage.LSinterest;


myTerm = localStorage.LSyears; //without extra payments


//calc the monthly payment


numOfMonths = myTerm * 12;


intRatePerYr = (myRate / 100) / 12;


numerator = intRatePerYr * Math.pow((1 + intRatePerYr), numOfMonths);


denominator = Math.pow((1 + intRatePerYr), numOfMonths) - 1;


myMonthlyPayment = (myPrinciple * numerator) / denominator;


//store monthly payment in localStorage cache


localStorage.LSmonthlypayment = myMonthlyPayment;


//


//calc Total interest


loanTotal = numOfMonths * myMonthlyPayment;


totalLoanInterest = loanTotal - myPrinciple;


//store in localStorage cache


localStorage.LStotalInterestAmount = totalLoanInterest;


}


</script>






<script type="text/javascript">


function createMyCalcPageMsgs() {


var formattedloanprinciple, formattedloantotal, formattedtotalloaninterest, myformattedpayment;


var myPrincipleRateTermMsg, myLoanMessage;


//


myformattedpayment = formatMyCurrency(parseFloat(localStorage.LSmonthlypayment));


//


formattedloanprinciple = formatMyCurrency(parseInt(localStorage.LSamount));


//


formattedloantotal = formatMyCurrency(parseFloat(localStorage.LSamount) + parseFloat(localStorage.LStotalInterestAmount));


//


formattedtotalloaninterest = formatMyCurrency(localStorage.LStotalInterestAmount);


//


//populate string variables


myPrincipleRateTermMsg = ""; //null out msg


document.getElementById("principlerateterm").innerHTML = myPrincipleRateTermMsg;


myPrincipleRateTermMsg = "<b>" + "Selected Principle, Rate, Term: " + "</b>" + formattedloanprinciple + ", " + localStorage.LSinterest + "%, " + localStorage.LSyears + " years";


document.getElementById("principlerateterm").innerHTML += myPrincipleRateTermMsg;


//


myLoanMessage = ""; //null out msg


document.getElementById("displayplainmsg").innerHTML = myLoanMessage;


myLoanMessage = "Mnthly Pymnt: " + "<b>" + myformattedpayment + "</b>" + ". " + "<br>" + "Total loan cost: " + formattedloantotal + "<br>" + "Total interest paid: " + formattedtotalloaninterest;


document.getElementById("displayplainmsg").innerHTML += myLoanMessage + "<br>";


}


</script>






<script type="text/javascript">


$('#page7').live('pageshow', function (event, ui) {


//set the slider to what ever payment was selected LSmonthlypayment


$("#sliderAffordPymnt").attr("value", (localStorage.LSmonthlypayment)).slider("refresh");


$("#sliderAffordPymnt").val((localStorage.LSmonthlypayment));


//


//$("#sliderAffordPymnt").attr("value", (localStorage.LSaffordablemnthpaymnt)).slider("refresh");


//$("#sliderAffordPymnt").val((localStorage.LSaffordablemnthpaymnt));


//default in the min-max


$("#sliderAffordPymnt").attr("min", (localStorage.LSaffordablemnthpaymntmin)).slider("refresh");


$("#sliderAffordPymnt").attr("max", (localStorage.LSaffordablemnthpaymntmax)).slider("refresh");


//


//new an attempt to label the min max values on the affordable payAmount slider page7


//code found on jquery forum: https://forum.jquery.com/topic/how-do-i-add-text-labels-below-slider


$.fn.extend({


sliderLabels: function(left,right) {


var $this = $(this);


var $sliderdiv= $this.next("div.ui-slider[role='application']");


//This is a bit inefficient, but it works...put in the text...then take it out, then put it back in,


//which has the effect of refreshing the label amounts


$sliderdiv


.prepend('<span class="ui-slider-inner-label" style="position: absolute; left:0px; top:20px; text-shadow:none; color:black; font-weight:normal">'+left+ '</span>')


.append('<span class="ui-slider-inner-label" style="position: absolute; right:0px; top:20px; text-shadow:none; color:black; font-weight:normal">'+right+ '</span>');


//this works!!! take label out


$(".ui-slider-inner-label").remove();


//put back in


$sliderdiv


.prepend('<span class="ui-slider-inner-label" style="position: absolute; left:0px; top:20px; text-shadow:none; color:black; font-weight:normal">'+left+ '</span>')


.append('<span class="ui-slider-inner-label" style="position: absolute; right:0px; top:20px; text-shadow:none; color:black; font-weight:normal">'+right+ '</span>');	


	 //


}


});


//


$('#sliderAffordPymnt').sliderLabels('Min: $'+(localStorage.LSaffordablemnthpaymntmin)+'.00', 'Max: $'+(localStorage.LSaffordablemnthpaymntmax)+'.00');


//end new


});//end page7 live event


</script>










<script type="text/javascript">


$('#page8').live('pagebeforehide', function (event, ui) {


//


var amntSelected;


amntSelected = $('input[name=radio-choice-amnt]:checked').val();


//


if (amntSelected === "1") {


localStorage.LSmin = "1";


localStorage.LSmax = "50";


//


//new defaults for affordable payment amounts page7


localStorage.setItem('LSaffordablemnthpaymnt', 119);


localStorage.setItem('LSaffordablemnthpaymntmin', 0);


localStorage.setItem('LSaffordablemnthpaymntmax', 5000);


//


//new default for Extra Payment amount, page5


localStorage.setItem('LSextrapaymntmax', 1000);


//


} //endif button 1 selectd


//


if (amntSelected === "2") {


localStorage.LSmin = "20";


localStorage.LSmax = "300";


//


//new defaults for affordable payment amounts page7


localStorage.setItem('LSaffordablemnthpaymnt', 477);


localStorage.setItem('LSaffordablemnthpaymntmin', 0);


localStorage.setItem('LSaffordablemnthpaymntmax', 5000);


//


//new default for Extra Payment amount, page5


localStorage.setItem('LSextrapaymntmax', 1000);


//


} //endif button 2 selectd


//


if (amntSelected === "3") {


localStorage.LSmin = "200";


localStorage.LSmax = "600";


//


//new defaults for affordable payment amounts page7


localStorage.setItem('LSaffordablemnthpaymnt', 1432);


localStorage.setItem('LSaffordablemnthpaymntmin', 200);


localStorage.setItem('LSaffordablemnthpaymntmax', 10000);


//


//new default for Extra Payment amount, page5


localStorage.setItem('LSextrapaymntmax', 2000);


//


} //endif button 3 selectd


//


if (amntSelected === "4") {


localStorage.LSmin = "1000";


localStorage.LSmax = "1500";


//


//new defaults for affordable payment amounts page7


localStorage.setItem('LSaffordablemnthpaymnt', 4774);


localStorage.setItem('LSaffordablemnthpaymntmin', 1000);


localStorage.setItem('LSaffordablemnthpaymntmax', 30000);


//


//new default for Extra Payment amount, page5


localStorage.setItem('LSextrapaymntmax', 5000);


//


} //endif button 4 selectd


//


if (amntSelected === "5") {


localStorage.LSmin = "1000";


localStorage.LSmax = "5000";


//


//new defaults for affordable payment amounts page7


localStorage.setItem('LSaffordablemnthpaymnt', 11935);


localStorage.setItem('LSaffordablemnthpaymntmin', 2000);


localStorage.setItem('LSaffordablemnthpaymntmax', 80000);


//


//new default for Extra Payment amount, page5


localStorage.setItem('LSextrapaymntmax', 12000);


//


} //endif button 5 selectd


//


});//end page8 live event


</script>






</body>


</html>


